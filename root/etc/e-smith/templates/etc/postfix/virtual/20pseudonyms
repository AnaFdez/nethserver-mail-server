
#
# 20pseudonyms -- map to mailboxes:
#
{
    use NethServer::MailServer;
    my $ms = NethServer::MailServer->new();
    my %aliases = $ms->getMailboxAliases();

    if(%aliases) {
	$OUT = '';
	while( my ($alias, $mailboxes) = each %aliases  ) {	    
	    if( ! scalar @{$mailboxes} ) {
		next; # skip alias, if mailbox list is empty
	    }
	    $OUT .= sprintf("%-48s %s\n", $alias, join(",\n ", @{$mailboxes}));
	}
    } else {
	$OUT = "# no virtual address defined\n";
    }
}

